{% load unicorn %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    {% unicorn_scripts %}
    <!-- <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" /> -->
    {% block header %}{% endblock %}

    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
  </head>

  <body class="overflow-y-auto min-h-screen">
    {% csrf_token %}
    <nav class="z-50 flex w-full top-0 backdrop-blur bg-white px-2">
      <div class="flex flex-col w-full">
        <div class="px-12 py-4 flex justify-between items-center">
          <a href="{% url 'index' %}">
            <h1 class="flex text-emerald-600 font-serif text-5xl items-center">
              <img style="height: 48px;" src="{% static 'image/habitas.png' %}">
            </h1>
          </a>
          
          <div class="flex items-center gap-6">
            {% if user.is_authenticated %}
              <span class="text-gray-700 font-medium">
                Ol√°, <span class="text-emerald-700 font-semibold">{{ user.username }}</span>
                <span class="text-xs bg-emerald-100 text-emerald-800 px-2 py-1 rounded ml-2 font-normal">
                  {{ user.get_user_type_display }}
                </span>
              </span>
              
              {% if user.is_gestor %}
                <a href="{% url 'dashboard_gestor' %}" class="inline-flex items-center gap-2 text-emerald-600 hover:text-emerald-700 font-medium transition-colors">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                  </svg>
                  Dashboard
                </a>
              {% elif user.is_tecnico %}
                <a href="{% url 'dashboard_tecnico' %}" class="inline-flex items-center gap-2 text-emerald-600 hover:text-emerald-700 font-medium transition-colors">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                  </svg>
                  Dashboard
                </a>
              {% endif %}
              
              <a href="{% url 'logout' %}" class="inline-flex items-center gap-2 bg-gray-200 text-gray-800 px-5 py-2.5 rounded-lg hover:bg-gray-300 font-medium shadow-md hover:shadow-lg transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                Sair
              </a>
            {% else %}
              <a href="{% url 'login' %}" class="text-emerald-600 hover:text-emerald-700 font-medium px-4 py-2 transition-colors">
                Login
              </a>
              <a href="{% url 'register_cidadao' %}" class="inline-flex items-center gap-2 bg-emerald-600 text-white px-5 py-2.5 rounded-lg hover:bg-emerald-700 font-medium shadow-md hover:shadow-lg transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
                </svg>
                Cadastrar
              </a>
            {% endif %}
          </div>
        </div>
        <hr class="bg-emerald-600 h-0.5 w-full" />
      </div>
    </nav>
    
    {% if messages %}
      <div class="fixed top-20 right-4 z-50 space-y-2">
        {% for message in messages %}
          <div class="bg-{{ message.tags }}-100 border border-{{ message.tags }}-400 text-{{ message.tags }}-700 px-4 py-3 rounded shadow-lg">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
    
    {% block content %} {% endblock %}
  </body>
</html>
